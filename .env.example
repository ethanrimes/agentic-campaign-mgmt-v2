# Social Media Agent Framework - Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase (Database & Storage)
# -----------------------------------------------------------------------------
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-anon-public-key
SUPABASE_SERVICE_KEY=your-service-role-key

# Direct Postgres connection (optional; used for raw SQL/admin migrations)
# SUPABASE_DB_URL=postgres://postgres:your-db-password@db.your-project.supabase.co:5432/postgres

# -----------------------------------------------------------------------------
# Encryption Key (REQUIRED for token security)
# -----------------------------------------------------------------------------
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your-generated-encryption-key

# -----------------------------------------------------------------------------
# AI Model API Keys
# -----------------------------------------------------------------------------
# OpenAI (Required - default provider for most agents)
OPENAI_API_KEY=sk-...

# Gemini (Required - used by Verifier Agent for multimodal content safety checks)
GEMINI_API_KEY=AIza...

# Perplexity (Required - used by News Event Ingestion Agent)
PERPLEXITY_API_KEY=pplx-...

# Anthropic (Optional - alternative model provider)
# ANTHROPIC_API_KEY=sk-ant-...

# -----------------------------------------------------------------------------
# Meta (Facebook/Instagram) API
# -----------------------------------------------------------------------------
# Shared app credentials (per-asset credentials stored in assets.json)
META_APP_ID=your-app-id
META_APP_SECRET=your-app-secret

# -----------------------------------------------------------------------------
# Wavespeed AI (Required for AI-generated images/videos)
# -----------------------------------------------------------------------------
WAVESPEED_API_KEY=your-wavespeed-api-key

# -----------------------------------------------------------------------------
# RapidAPI (Required for social media scraping - trend discovery)
# -----------------------------------------------------------------------------
RAPIDAPI_KEY=your-rapidapi-key

# =============================================================================
# MODEL CONFIGURATION
# =============================================================================

# Model Provider Selection
# Options: "openai", "gemini", "anthropic"
DEFAULT_MODEL_PROVIDER=openai
DEFAULT_MODEL_NAME=gpt-4o-mini

# =============================================================================
# CONTENT GUARDRAILS
# =============================================================================
# These constraints define the min/max limits for weekly content planning.
# The planner agent must satisfy all constraints or the plan is rejected.

# Total posts across all platforms per week
MIN_POSTS_PER_WEEK=10
MAX_POSTS_PER_WEEK=20

# Number of unique content seeds to use per week
MIN_CONTENT_SEEDS_PER_WEEK=8
MAX_CONTENT_SEEDS_PER_WEEK=15

# Video content limits (each video_post creates 1 IG reel + 1 FB video)
MIN_VIDEOS_PER_WEEK=2
MAX_VIDEOS_PER_WEEK=10

# Image content limits (each image_post creates 1 IG image + 1 FB feed post)
MIN_IMAGES_PER_WEEK=10
MAX_IMAGES_PER_WEEK=30

# =============================================================================
# WAVESPEED AI CONFIGURATION
# =============================================================================

# Image generation model
# Options: "stability-ai/sdxl-lora", "bytedance/seedream-v4", "bytedance/seedream-v4.5"
WAVESPEED_IMAGE_MODEL=bytedance/seedream-v4.5

# Video generation model
# Options: "wavespeed-ai/wan-2.2/i2v-5b-720p", "bytedance/seedance-v1-pro-t2v-480p"
WAVESPEED_VIDEO_MODEL=bytedance/seedance-v1-pro-t2v-480p

WAVESPEED_API_BASE=https://api.wavespeed.ai/api/v3
WAVESPEED_POLLING_INTERVAL=2.0
WAVESPEED_MAX_POLL_ATTEMPTS=120

# =============================================================================
# PLANNER AGENT CONFIGURATION
# =============================================================================
# How many recent items to fetch for the planner's context

PLANNER_NEWS_SEEDS_LIMIT=10
PLANNER_TREND_SEEDS_LIMIT=10
PLANNER_UNGROUNDED_SEEDS_LIMIT=10
PLANNER_INSIGHTS_LIMIT=3

# =============================================================================
# INSIGHTS AGENT CONFIGURATION
# =============================================================================

# Context limits for insights analysis
INSIGHTS_FACEBOOK_POSTS_LIMIT=10
INSIGHTS_INSTAGRAM_POSTS_LIMIT=10
INSIGHTS_ACCOUNT_METRICS_DAYS=14

# Insights fetching schedule
INSIGHTS_FETCH_INTERVAL_HOURS=24
INSIGHTS_POST_LIMIT=50
INSIGHTS_POST_DAYS_BACK=30
INSIGHTS_ENABLE_SCHEDULED_FETCH=true

# Webhook-triggered refresh rate limiting
INSIGHTS_REFRESH_COOLDOWN_MINUTES=5
INSIGHTS_ENABLE_WEBHOOK_REFRESH=true

# =============================================================================
# DEDUPLICATOR CONFIGURATION
# =============================================================================

# How many recent canonical seeds to compare against for deduplication
DEDUPLICATOR_CANONICAL_SEEDS_LIMIT=10

# =============================================================================
# COMMENT MANAGEMENT
# =============================================================================

# Max recent posts to check for new comments
INSTAGRAM_COMMENTS_MAX_MEDIA=10

# =============================================================================
# CROSS-PLATFORM SETTINGS
# =============================================================================

# If true, same generated media is reused for both Facebook and Instagram posts
# If false, separate media is generated for each platform (doubles generation costs)
SHARE_MEDIA_ACROSS_PLATFORMS=true

# =============================================================================
# PUBLISHING CONFIGURATION
# =============================================================================

# Hours between publishing checks (used by scheduler)
PUBLISHING_CHECK_INTERVAL=6

# =============================================================================
# LOGGING
# =============================================================================

# Options: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# =============================================================================
# MULTI-TENANCY (Optional)
# =============================================================================
# Comma-separated list of business asset IDs to manage
# If not set, scheduler will fetch all active assets from database
# BUSINESS_ASSETS=asset1,asset2,asset3
